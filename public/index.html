<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Edele Bingo Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="/style.css"> 
</head>
<body>
    <div class="main-wrapper">
        
        <div id="landing-screen">
            <div class="welcome-box">
                <h1>·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°</h1>
                <h2>·ãà·ã∞ Edele Bingo</h2>
                
                <div class="stake-selection">
                    <p>·ã®·ãç·à≠·à≠·ãµ ·àò·å†·äï</p>
                    <button class="stake-btn active-stake" data-stake="10">Stake 10</button>
                </div>

                <button id="start-selection-btn" class="play-btn">
                    ‚ñ∑ Play 10 ETB
                </button>
            </div>
        </div>

        <div id="auth-screen" class="auth-screen" style="display: none;">
            <div class="auth-modal">
                <button id="close-auth" class="close-auth-btn">&times;</button>
                
                <div id="login-form" class="auth-form">
                    <h2>Login</h2>
                    <input type="text" id="login-username" placeholder="Username" class="auth-input">
                    <input type="password" id="login-password" placeholder="Password" class="auth-input">
                    <button id="login-btn" class="auth-btn">Login</button>
                    <p class="auth-switch">Don't have an account? <a href="#" id="show-register">Register</a></p>
                </div>
                
                <div id="register-form" class="auth-form" style="display: none;">
                    <h2>Register</h2>
                    <input type="text" id="register-username" placeholder="Username" class="auth-input">
                    <input type="password" id="register-password" placeholder="Password" class="auth-input">
                    <input type="password" id="register-confirm-password" placeholder="Confirm Password" class="auth-input">
                    <button id="register-btn" class="auth-btn">Register</button>
                    <p class="auth-switch">Already have an account? <a href="#" id="show-login">Login</a></p>
                </div>
            </div>
        </div>

        <div id="selection-screen" style="display: none;">
            
            <div class="selection-header">
                <div class="header-info">
                    <span class="label">Main Wallet</span>
                    <span class="value" id="main-wallet-value">0.00</span>
                </div>
                <div class="header-info">
                    <span class="label">Stake</span>
                    <span class="value" id="current-stake">10</span>
                </div>
                <div class="header-info time-counter">
                    <span class="time-value" id="time-left">45s</span>
                </div>
            </div>

            <p class="selection-instruction">·ä´·à≠·ãµ ·âÅ·å•·à≠ ·ã≠·àù·à®·å° (1-100)</p>

            <div id="card-selection-grid" class="card-selection-grid">
            </div>
            
            <div id="confirmation-status" class="confirmation-status">·ä´·à≠·ãµ ·ã≠·àù·à®·å°·äì ·ä†·à®·åã·åç·å°</div>
            
            <button id="confirm-card-btn" class="selection-action-btn" disabled>
                ·ä´·à≠·ã±·äï ·ä†·à®·åã·åç·å•
            </button>
            
            <p style="text-align: center; font-size: 0.8em; color: #ccc; margin-top: 10px;">·ä´·à≠·ãµ·ãé·äï ·àà·àò·àù·à®·å• ·åä·ãú·ãç ·ä•·ã®·àÆ·å† ·äê·ãç!</p>

            <div class="selection-footer">
                <div class="footer-btn active" data-target="game">Game</div>
                <div class="footer-btn" data-target="wallet">Wallet</div>
                <div class="footer-btn" data-target="profile">Profile</div>
                <div class="footer-btn" data-target="admin" id="admin-tab-btn" style="display: none;">Admin</div>
            </div>
            
        </div>

        <div id="card-preview-modal" class="card-preview-modal" style="display: none;">
            <div class="preview-modal-content">
                <h2 id="preview-card-title" class="preview-title">·ä´·à≠·ãµ #1</h2>
                
                <div class="preview-bingo-headers">
                    <div class="preview-header-circle b-header">B</div>
                    <div class="preview-header-circle i-header">I</div>
                    <div class="preview-header-circle n-header">N</div>
                    <div class="preview-header-circle g-header">G</div>
                    <div class="preview-header-circle o-header">O</div>
                </div>
                
                <div id="preview-card-grid" class="preview-card-grid">
                </div>
                
                <div class="preview-buttons">
                    <button id="preview-back-btn" class="preview-btn back-btn">·â∞·àò·àà·àµ</button>
                    <button id="preview-confirm-btn" class="preview-btn confirm-btn">·äÆ·äï·çà·à≠·àù</button>
                </div>
            </div>
        </div>

        <!-- Admin Screen -->
        <div id="admin-screen" style="display: none;">
            <div class="admin-container">
                <div class="admin-header">
                    <h2>üéØ Admin Panel</h2>
                </div>
                
                <div class="admin-stats-grid" id="admin-stats">
                    <div class="admin-stat-card">
                        <span class="admin-stat-label">·â∞·å†·âÉ·àö·ãé·âΩ</span>
                        <span class="admin-stat-value" id="admin-total-users">0</span>
                    </div>
                    <div class="admin-stat-card">
                        <span class="admin-stat-label">·ã≤·çñ·ãö·â∂·âΩ</span>
                        <span class="admin-stat-value" id="admin-pending-deposits">0</span>
                    </div>
                    <div class="admin-stat-card">
                        <span class="admin-stat-label">·àõ·ãç·å£·â∂·âΩ</span>
                        <span class="admin-stat-value" id="admin-pending-withdrawals">0</span>
                    </div>
                    <div class="admin-stat-card">
                        <span class="admin-stat-label">·å®·ãã·â≥·ãé·âΩ</span>
                        <span class="admin-stat-value" id="admin-today-games">0</span>
                    </div>
                </div>
                
                <div class="admin-tabs">
                    <button class="admin-tab active" data-tab="deposits">üí≥ ·ã≤·çñ·ãö·â∂·âΩ</button>
                    <button class="admin-tab" data-tab="withdrawals">üí∏ ·àõ·ãç·å£·â∂·âΩ</button>
                    <button class="admin-tab" data-tab="users">üë• ·â∞·å†·âÉ·àö·ãé·âΩ</button>
                </div>
                
                <div class="admin-tab-content active" id="admin-deposits-content">
                    <div class="admin-section">
                        <h3>üí≥ ·ã≤·çñ·ãö·â∂·âΩ</h3>
                        <div id="admin-deposits-list" class="admin-list">
                            <p class="admin-empty">Loading...</p>
                        </div>
                    </div>
                </div>
                
                <div class="admin-tab-content" id="admin-withdrawals-content">
                    <div class="admin-section">
                        <h3>üí∏ ·àõ·ãç·å£·â∂·âΩ</h3>
                        <div id="admin-withdrawals-list" class="admin-list">
                            <p class="admin-empty">Loading...</p>
                        </div>
                    </div>
                </div>
                
                <div class="admin-tab-content" id="admin-users-content">
                    <div class="admin-section">
                        <h3>üë• ·â∞·å†·âÉ·àö·ãé·âΩ</h3>
                        <div id="admin-users-list" class="admin-list">
                            <p class="admin-empty">Loading...</p>
                        </div>
                    </div>
                </div>
                
                <button class="admin-refresh-btn" id="admin-refresh-btn">üîÑ ·ã≥·åç·àù ·å´·äï</button>
            </div>
            
            <div class="selection-footer">
                <div class="footer-btn" data-target="game">Game</div>
                <div class="footer-btn" data-target="wallet">Wallet</div>
                <div class="footer-btn" data-target="profile">Profile</div>
                <div class="footer-btn active" data-target="admin">Admin</div>
            </div>
        </div>

        <div id="profile-screen" style="display: none;">
            <div class="profile-container">
                <div class="profile-header">
                    <h2>·çï·àÆ·çã·ã≠·àç</h2>
                </div>
                
                <div class="profile-avatar">
                    <div class="avatar-circle">
                        <span id="profile-avatar-letter">?</span>
                    </div>
                </div>
                
                <div class="profile-info">
                    <div class="profile-item">
                        <span class="profile-label">·àµ·àù</span>
                        <span class="profile-value" id="profile-username">---</span>
                    </div>
                    <div class="profile-item">
                        <span class="profile-label">Telegram ID</span>
                        <span class="profile-value" id="profile-telegram-id">---</span>
                    </div>
                    <div class="profile-item">
                        <span class="profile-label">·àµ·àç·ä≠ ·âÅ·å•·à≠</span>
                        <span class="profile-value" id="profile-phone">---</span>
                    </div>
                    <div class="profile-item">
                        <span class="profile-label">·âÄ·à™ ·àí·à≥·â•</span>
                        <span class="profile-value" id="profile-balance">0.00 ETB</span>
                    </div>
                    <div class="profile-item">
                        <span class="profile-label">·ä†·å†·âÉ·àã·ã≠ ·å®·ãã·â≥·ãé·âΩ</span>
                        <span class="profile-value" id="profile-total-games">0</span>
                    </div>
                    <div class="profile-item">
                        <span class="profile-label">·ä†·à∏·äì·çä ·å®·ãã·â≥·ãé·âΩ</span>
                        <span class="profile-value" id="profile-wins">0</span>
                    </div>
                </div>
                
                <div class="referral-section">
                    <h3>üîó ·à™·çà·à´·àç ·àä·äï·ä≠</h3>
                    <p style="font-size: 0.9em; color: #aaa; margin-bottom: 10px;">·åì·ã∞·äõ·ãé·äï ·åã·â•·ãò·ãç 2 ·â•·à≠ ·â¶·äê·àµ ·ã´·åç·äô!</p>
                    <div class="referral-code-box" id="referral-code-box">
                        <span id="profile-referral-code">---</span>
                        <button class="copy-btn" id="copy-referral-btn">·äÆ·çí</button>
                    </div>
                </div>
                
                <div class="profile-actions">
                    <button class="profile-btn" id="profile-refresh-btn">·ã≥·åç·àù ·å´·äï</button>
                </div>
            </div>
            
            <div class="selection-footer">
                <div class="footer-btn" data-target="game">Game</div>
                <div class="footer-btn" data-target="wallet">Wallet</div>
                <div class="footer-btn active" data-target="profile">Profile</div>
            </div>
        </div>

        <!-- Wallet Screen -->
        <div id="wallet-screen" style="display: none;">
            <div class="wallet-container">
                <div class="wallet-header">
                    <h2>üí≥ Wallet</h2>
                    <button class="wallet-refresh-btn" id="wallet-refresh-btn">
                        <span class="refresh-icon">‚Üª</span>
                    </button>
                </div>
                
                <div class="wallet-balance-card">
                    <div class="balance-label">·âÄ·à™ ·àí·à≥·â•</div>
                    <div class="balance-amount" id="wallet-balance">0.00</div>
                    <div class="balance-currency">ETB</div>
                    <div class="balance-updated" id="wallet-updated">Last updated: --</div>
                </div>
                
                <div class="wallet-stats">
                    <div class="wallet-stat-item">
                        <span class="stat-icon">üéÆ</span>
                        <span class="stat-value" id="wallet-total-games">0</span>
                        <span class="stat-label">·å®·ãã·â≥·ãé·âΩ</span>
                    </div>
                    <div class="wallet-stat-item">
                        <span class="stat-icon">üèÜ</span>
                        <span class="stat-value" id="wallet-wins">0</span>
                        <span class="stat-label">·ãµ·àé·âΩ</span>
                    </div>
                    <div class="wallet-stat-item">
                        <span class="stat-icon">üí∞</span>
                        <span class="stat-value" id="wallet-total-winnings">0</span>
                        <span class="stat-label">·åà·â¢</span>
                    </div>
                </div>
                
                <div class="wallet-actions">
                    <button class="wallet-action-btn deposit-btn" id="wallet-deposit-btn">
                        <span class="action-icon">üí≥</span>
                        <span class="action-text">·àõ·àµ·åà·â£·âµ</span>
                        <span class="action-subtitle">Deposit</span>
                    </button>
                    <button class="wallet-action-btn withdraw-btn" id="wallet-withdraw-btn">
                        <span class="action-icon">üí∏</span>
                        <span class="action-text">·àõ·ãç·å£·âµ</span>
                        <span class="action-subtitle">Withdraw</span>
                    </button>
                </div>
                
                <div class="wallet-history">
                    <h3>·ã®·âÖ·à≠·â• ·åä·ãú ·ä•·äï·âÖ·àµ·âÉ·à¥·ãé·âΩ</h3>
                    <div class="history-list" id="wallet-history-list">
                        <div class="history-empty">·àù·äï·àù ·ä•·äï·âÖ·àµ·âÉ·à¥ ·ã®·àà·àù</div>
                    </div>
                </div>
            </div>
            
            <div class="selection-footer">
                <div class="footer-btn" data-target="game">Game</div>
                <div class="footer-btn active" data-target="wallet">Wallet</div>
                <div class="footer-btn" data-target="profile">Profile</div>
            </div>
        </div>

        <!-- Deposit Modal -->
        <div id="deposit-modal" class="wallet-modal" style="display: none;">
            <div class="wallet-modal-content">
                <button class="modal-close-btn" id="deposit-modal-close">&times;</button>
                <h2>üí≥ ·åà·äï·ãò·â• ·àõ·àµ·åà·â£·âµ</h2>
                
                <div class="deposit-amount-selection">
                    <p>·àò·å†·äï ·ã≠·àù·à®·å°</p>
                    <div class="amount-buttons">
                        <button class="amount-btn" data-amount="50">50 ETB</button>
                        <button class="amount-btn" data-amount="100">100 ETB</button>
                        <button class="amount-btn" data-amount="200">200 ETB</button>
                        <button class="amount-btn" data-amount="500">500 ETB</button>
                    </div>
                    <div class="custom-amount">
                        <input type="number" id="deposit-custom-amount" placeholder="·àå·àã ·àò·å†·äï..." min="50">
                    </div>
                </div>
                
                <div class="deposit-instructions">
                    <p>üì± ·ãà·ã∞·àö·ä®·â∞·àà·ãç ·âÅ·å•·à≠ ·ã≠·àã·ä©:</p>
                    <div class="deposit-phone">0980682889</div>
                    <p class="deposit-note">·ä®·àã·ä© ·â†·äã·àã ·àõ·à®·åã·åà·å´ ·âÅ·å•·à≠ ·ã´·àµ·åà·â°</p>
                </div>
                
                <div class="deposit-form">
                    <input type="text" id="deposit-reference" placeholder="·ã®·àõ·à®·åã·åà·å´ ·âÅ·å•·à≠ (Transaction ID)">
                    <button class="deposit-submit-btn" id="deposit-submit-btn">·àõ·à®·åã·åà·å´ ·àã·ä≠</button>
                </div>
                
                <div class="deposit-status" id="deposit-status"></div>
            </div>
        </div>

        <!-- Withdraw Modal -->
        <div id="withdraw-modal" class="wallet-modal" style="display: none;">
            <div class="wallet-modal-content">
                <button class="modal-close-btn" id="withdraw-modal-close">&times;</button>
                <h2>üí∏ ·åà·äï·ãò·â• ·àõ·ãç·å£·âµ</h2>
                
                <div class="withdraw-balance-info">
                    <span>·ã´·àà·ãé·âµ ·âÄ·à™ ·àí·à≥·â•:</span>
                    <span class="withdraw-current-balance" id="withdraw-current-balance">0.00 ETB</span>
                </div>
                
                <div class="withdraw-form">
                    <input type="number" id="withdraw-amount" placeholder="·àò·å†·äï (ETB)" min="50">
                    <input type="text" id="withdraw-phone" placeholder="·àµ·àç·ä≠ ·âÅ·å•·à≠ (09...)">
                    <button class="withdraw-submit-btn" id="withdraw-submit-btn">·å•·ã´·âÑ ·àã·ä≠</button>
                </div>
                
                <div class="withdraw-note">
                    <p>‚ö†Ô∏è ·àõ·ãç·å£·âµ ·àà·àò·âª·àç:</p>
                    <ul>
                        <li>·â¢·ã´·äï·àµ 50 ·â•·à≠ ·â£·àã·äï·àµ ·àä·äñ·à≠·ãé·âµ ·ã≠·åà·â£·àç</li>
                        <li>·â¢·ã´·äï·àµ 1 ·ã®·â∞·à≥·ä´ ·ã≤·çñ·ãö·âµ ·àõ·ãµ·à®·åç ·ä†·àà·â•·ãé·âµ</li>
                        <li>·â†·â¶·äê·àµ ·â•·âª ·ä´·à∏·äê·çâ ·â¢·ã´·äï·àµ 100 ·â•·à≠ ·ã≤·çñ·ãö·âµ ·ã´·àµ·çà·àç·åã·àç</li>
                    </ul>
                </div>
                
                <div class="withdraw-status" id="withdraw-status"></div>
            </div>
        </div>

        <div id="game-screen" style="display: none;">
            
            <div class="game-header">
                <span class="close-btn">&times;</span>
                <span class="game-title">Edele Bingo</span>
                <span class="header-icons">
                    <span class="dropdown-icon">&#8964;</span>
                    <span class="menu-icon">&#8942;</span>
                </span>
            </div>

            <div class="game-content-grid">
                
                <div class="left-column">
                    <div class="master-grid-section">
                        <div class="bingo-headers">
                            <div class="bingo-header-circle b-header">B</div>
                            <div class="bingo-header-circle i-header">I</div>
                            <div class="bingo-header-circle n-header">N</div>
                            <div class="bingo-header-circle g-header">G</div>
                            <div class="bingo-header-circle o-header">O</div>
                        </div>
                        <div id="master-grid" class="master-grid">
                        </div>
                    </div>
                </div>

                <div class="right-column">
                    
                    <div class="call-display-section">
                        <div class="game-stats">
                            <div class="stat-item">
                                <span class="stat-label">·â∞·å´·ãã·âæ·âΩ</span>
                                <span class="stat-value" id="player-count">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">·àΩ·àç·àõ·âµ</span>
                                <span class="stat-value" id="prize-pool">0 ·â•·à≠</span>
                            </div>
                        </div>
                        <div class="current-call-circle" id="current-call">
                            <span class="call-letter" id="call-letter"></span>
                            <span class="call-number" id="call-number">--</span>
                        </div>
                    </div>
                    
                    <div class="call-history" id="call-history">
                    </div>

                    <div class="player-card-section">
                        <div class="your-cards-header">
                            <span>Your Cards</span>
                            <span class="card-count">1</span>
                        </div>
                        
                        <div id="watch-only-placard" class="watch-only-placard">
                            WATCH ONLY
                        </div>
                        
                        <div class="player-card-wrapper">
                            <div class="card-number-title" id="card-number-title">Card Number --</div>
                            <div class="player-bingo-headers">
                                <div class="player-header-circle b-header">B</div>
                                <div class="player-header-circle i-header">I</div>
                                <div class="player-header-circle n-header">N</div>
                                <div class="player-header-circle g-header">G</div>
                                <div class="player-header-circle o-header">O</div>
                            </div>
                            <div id="player-bingo-card" class="bingo-card-player">
                            </div>
                        </div>
                        
                        <div class="bingo-button-section">
                            <button class="bingo-main-btn" id="bingo-btn">Bingo</button>
                            <div class="connection-status">
                                <span class="status-dot connected"></span>
                                <span>Connected</span>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

            <div class="game-footer">
                <button class="footer-action-btn exit-btn" id="exit-btn">
                    <span class="btn-icon">&#8618;</span> Exit
                </button>
                <button class="footer-action-btn refresh-btn" id="refresh-btn">
                    <span class="btn-icon">&#8635;</span> Refresh
                </button>
            </div>
            
        </div>
        
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="/card.js"></script>
    <script src="/game.js"></script>
</body>
</html>
